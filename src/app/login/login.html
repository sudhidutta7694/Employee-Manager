<div class="login-page">
	<div class="login-overlay"></div>

	<div class="login-container">
		<div class="brand">
			<div class="brand-logo">EM</div>
			<div class="brand-text">
				<h1 class="brand-title">Employee Manager</h1>
				<p class="brand-subtitle">Secure access to your workplace dashboard</p>
			</div>
		</div>

		<mat-card class="login-card">
			<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
				<h2 class="login-title">Sign in</h2>
				<p class="login-description">Use your corporate credentials to continue.</p>

				<mat-form-field appearance="outline" class="form-field">
					<mat-label>Email</mat-label>
					<input
						matInput
						id="email"
						type="email"
						formControlName="email"
						autocomplete="email"
						placeholder="you@company.com"
						required
					/>
					@if (
						loginForm.controls.email.invalid &&
						(loginForm.controls.email.dirty || loginForm.controls.email.touched)
					) {
						<mat-error>
							A valid email is required.
						</mat-error>
					}
				</mat-form-field>

				<mat-form-field appearance="outline" class="form-field">
					<mat-label>Password</mat-label>
					<input
						matInput
						id="password"
						type="password"
						formControlName="password"
						autocomplete="current-password"
						placeholder="Enter your password"
						required
						minlength="6"
					/>
					@if (
						loginForm.controls.password.invalid &&
						(loginForm.controls.password.dirty || loginForm.controls.password.touched)
					) {
						<mat-error>
							Password must be at least 6 characters.
						</mat-error>
					}
				</mat-form-field>

				<div class="form-meta">
					<mat-checkbox formControlName="rememberMe">
						Remember me
					</mat-checkbox>

					<button mat-button type="button" class="link-button" (click)="onForgotPassword($event)">
						Forgot password?
					</button>
				</div>

				<button
					mat-flat-button
					color="primary"
					type="submit"
					class="primary-button"
					[disabled]="loginForm.invalid || loading()"
				>
					@if (!loading()) {
						<span>Sign in</span>
					}
					@if (loading()) {
						<mat-progress-spinner
							mode="indeterminate"
							diameter="18"
							strokeWidth="3"
						></mat-progress-spinner>
					}
				</button>

				<p class="form-hint">
					By signing in, you agree to the company acceptable use policy.
				</p>

				@if (errorMessage()) {
					<p class="form-error">
						{{ errorMessage() }}
					</p>
				}
			</form>
		</mat-card>

		<footer class="login-footer">
			<span>Â© {{ currentYear }} Employee Manager. All rights reserved.</span>
		</footer>
	</div>
</div>

